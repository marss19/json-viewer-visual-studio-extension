<html>
	<head>
        <meta http-equiv="X-UA-Compatible" content="IE=8,9,10" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <style>
            ul, li, pre {font-family: Tahoma; font-size:12px;}
            li {list-style-type:none;}
        </style>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script>
		    function format(parentControl, obj) {
		        var pre = $("<pre>");
		        pre.html(JSON.stringify(obj, null, "\t"));
		        parentControl.append(pre);
		    }

		    function formatToFriendlyView(parentControl, name, obj) {
		        if (isSimpleType(obj)) {
		            renderItemOfSimpleType(parentControl, name, obj);
		        } else {
		            renderObject(parentControl, name, obj);
		        }
		    }

		    function renderItemOfSimpleType(parentControl, name, value) {
		        parentControl.append("<li><b>" + name + "</b>: " + value + "</li>");
		    }

		    function renderObject(parentControl, name, obj) {
		        if (parentControl.prop("tagName") == "UL") {
		            var listItem = (name) ? $("<li><b>" + name + "</b>:</li>") : $("<li></li>");
		            parentControl.append(listItem);
		            parentControl = listItem;
		        }

		        var list = $("<ul></ul>");
		        parentControl.append(list);

		        var isArray = $.isArray(obj);
		        for (var prop in obj) {
		            var propName = isArray ? "[" + prop + "]" : prop;
		            formatToFriendlyView(list, propName, obj[prop]);
		        }
		    }

		    function isSimpleType(value) {
		        if (value == null || value == undefined) {
		            return true;
		        }
		        var type = typeof value;
		        return (type === "string" || type === "number" || type === "boolean");
		    }

		</script>
	</head>
	<body>
		<div id="view"></div>
        <script>
            $(document).ready(function () {
                try {
                    var inputData = "[InputDataPlaceholder]";
                    var obj = $.parseJSON(inputData);

                    var divViewer = $("#view");
                    divViewer.html("");

                    if ([KeepJsonMarkupPlaceholder]) {
                        format(divViewer, obj);
                    } else {
                        formatToFriendlyView(divViewer, null, obj);
                    }
                } catch (e) {
                    alert("Failed to parse JSON data. Error: " + e.message);
                }
            });
        </script>
	</body>
</html>